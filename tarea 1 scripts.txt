create TABLESPACE GRUPO7_TBL
datafile _LUGAR_
EXTENT MANAGEMENT LOCAL
blocksize 8k
autoextend off;

create TABLESPACE GRUPO7_IDX
datafile _LUGAR_
EXTENT MANAGEMENT LOCAL
blocksize 8k
autoextend off;

create table EMPLEADO (ID_EMPLEADO NUMBER(10) GENERATED BY DEFAULT AS IDENTITY (START WITH 1000000000 INCREMENT BY 1),
NOMBRE VARCHAR2(25) NOT NULL,
APELLIDO VARCHAR2(20) NOT NULL,
EMAIL VARCHAR2(50) NOT NULL,
TELEFONO NUMBER(8) NOT NULL,
FECHA_CONTRATACION DATE,
SALARIO NUMBER(20,2),
POR_COMISION ,
CONSTRAIT PK_ID_EMPLEADO PRIMARY KEY (ID_EMPLEADO)
CONSTRAIT FK_ID_PUESTO FOREIGN KEY (ID_PUESTO) REFERENCES PUESTO(ID_PUESTO)
CONSTRAIT FK_ID_GERENTE FOREIGN KEY (ID_GERENTE) REFERENCES EMPLEADO(ID_GERENTE)
CONSTRAIT FK_ID_DEPT FOREIGN KEY (ID_DEPARTAMENTO) REFERENCES DEPARTAMENTO(ID_DEPARTAMENTO)
)

create table DEPARTAMENTO (ID_DEPARTAMENTO NUMBER(4) GENERATED BY DEFAULT AS IDENTITY (START WITH 1000 INCREMENT BY 1),
NOMBRE_DEPARTAMENTO VARCHAR2(25) NOT NULL,
CONSTRAIT PK_ID_DEPARTAMENTO PRIMARY KEY (ID_DEPARTAMENTO)
CONSTRAIT FK_ID_GERENTE FOREIGN KEY (ID_GERENTE) REFERENCES PUESTO(ID_GERENTE)
CONSTRAIT FK_ID_LOCALIZACION FOREIGN KEY (ID_LOCALIZACION) REFERENCES PUESTO(ID_LOCALIZACION)
)

create table PUESTO (ID_PUESTO NUMBER(3) GENERATED BY DEFAULT AS IDENTITY (START WITH 100 INCREMENT BY 1),
TITULO_PUESTO VARCHAR2(30) NOT NULL,
SALARIO_MIN NUMBER(20) NOT NULL,
SALARIO_MAX NUMBER(20) NOT NULL,
CONSTRAIT PK_ID_PUESTO PRIMARY KEY (ID_PUESTO)
)

create table HISTORIAL_PUESTO (FECHA_INICIO DATE,
CONSTRAIT FK_ID_EMPLEADO FOREIGN KEY (ID_EMPLEADO) REFERENCES EMPLEADO(ID_EMPLEADO)
CONSTRAIT FK_ID_DEPT FOREIGN KEY (ID_DEPARTAMENTO) REFERENCES DEPARTAMENTO(ID_DEPARTAMENTO)
CONSTRAIT FK_ID_PUESTO FOREIGN KEY (ID_PUESTO) REFERENCES PUESTO(ID_PUESTO)
)

create table LOCALIZACION (ID_LOCALIZACION NUMBER(7) GENERATED BY DEFAULT AS IDENTITY (START WITH 1000000 INCREMENT BY 1),
DIRECCION VARCHAR2(50) NOT NULL,
CODIGO_POSTAL NUMBER(5),
CIUDAD VARCHAR2(10),
PROVINCIA VARCHAR2(10) NOT NULL,
CONSTRAIT PK_ID_LOCALIZACION PRIMARY KEY (ID_LOCALIZACION)
CONSTRAIT FK_ID_PAIS FOREIGN KEY (ID_PAIS) REFERENCES PAIS(ID_PAIS)
)

create table PAIS(ID_PAIS NUMBER(3) GENERATED BY DEFAULT AS IDENTITY (START WITH 100 INCREMENT BY 1),
NOMBRE_PAIS VARCHAR2(30) NOT NULL,
CONSTRAIT PK_ID_PAIS PRIMARY KEY (ID_PAIS)
CONSTRAIT FK_ID_REGION FOREIGN KEY (ID_REGION) REFERENCES REGION(ID_REGION)
)

create table REGION(ID_REGION NUMBER(3) GENERATED BY DEFAULT AS IDENTITY (START WITH 100 INCREMENT BY 1),
NOMBRE_REGION VARCHAR2(20) NOT NULL,
CONSTRAIT PK_ID_REGION PRIMARY KEY (ID_REGION)
)
